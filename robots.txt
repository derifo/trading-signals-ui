server
{
       	listen 172.31.47.227:443 ssl;
        server_name affiliate.mbtechnologyil.com www.affiliate.mbtechnologyil.com;
        access_log /var/log/nginx/domains/affiliate.mbtechnologyil.com.log;
        access_log /var/log/nginx/domains/affiliate.mbtechnologyil.com.bytes bytes;
        error_log /var/log/nginx/domains/affiliate.mbtechnologyil.com.error.log;
        root /home/jack/public_html/mbtechnology-affiliate/;
        index index.php index.html index.htm;
        ssl on;
        ssl_certificate /usr/local/binary/ssl/server.crt;
        ssl_certificate_key /usr/local/binary/ssl/server.key;
        # use fastcgi for all php files
        location ~ \.php$
        {
                try_files $uri =404;
                fastcgi_split_path_info ^(.+\.php)(/.+)$;
               	include /etc/nginx/fastcgi_params;
                fastcgi_index index.php;
                fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name;
                fastcgi_buffer_size 128k;
                fastcgi_buffers 256 16k;
                fastcgi_busy_buffers_size 256k;
                fastcgi_temp_file_write_size 256k;
                fastcgi_send_timeout 600;
                fastcgi_read_timeout 600;
                fastcgi_intercept_errors on;
                if (-f $request_filename)
                {
                        fastcgi_pass unix:/usr/local/php/php/fpm/jack.sock;
                }
        }
}
